<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jeu des Points Noirs</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      overflow: hidden;
    }
    #gameContainer {
      position: relative;
      width: 100vw;
      height: 100vh;
      background-color: lightblue;
      overflow: hidden;
    }
    .point {
      width: 160px;
      height: 160px;
      background-color: black;
      position: absolute;
      border-radius: 50%;
    }
    #score {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: bold;
      color: orangered;
    }
    #water {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 48px;
    }
  </style>
</head>
<body>
  <div id="gameContainer">
    <div id="score">Score: 0</div>
    <div id="water">ðŸ’¦</div>
  </div>
  <script>
    const gameContainer = document.getElementById('gameContainer');
    const scoreElement = document.getElementById('score');
    const water = document.getElementById('water');
    const waterX = gameContainer.clientWidth / 2 - 24; // Ajuste la position du centre du jeu
    const waterY = gameContainer.clientHeight - 84; // Ajuste la position du centre du jeu

    let score = 0;
    let interval = 2000;

    function createPoint() {
      const point = document.createElement('div');
      point.classList.add('point');
      point.style.top = '0px';
      point.style.left = Math.random() * (gameContainer.clientWidth - 160) + 'px';
      gameContainer.appendChild(point);

      let speed = Math.random() * 3 + 2;
      let directionX = (waterX - parseFloat(point.style.left)) / (gameContainer.clientHeight / speed);

      function movePoint() {
        const currentTop = parseFloat(point.style.top);
        const currentLeft = parseFloat(point.style.left);
        if (currentTop + speed > gameContainer.clientHeight) {
          alert('Game Over! Votre score est : ' + score);
          location.reload();
        } else {
          point.style.top = currentTop + speed + 'px';
          point.style.left = currentLeft + directionX + 'px';
          requestAnimationFrame(movePoint);
        }
      }

      point.addEventListener('click', () => {
        score++;
        scoreElement.textContent = 'Score: ' + score;
        point.remove();
      });

      point.isRemoved = false; // Ajout d'une propriÃ©tÃ© pour suivre l'Ã©tat de suppression
      requestAnimationFrame(movePoint);
    }

    function checkCollision() {
      const points = document.getElementsByClassName('point');
      for (const point of points) {
        const currentTop = parseFloat(point.style.top);
        if (!point.isRemoved && currentTop + point.clientHeight > gameContainer.clientHeight) {
          alert('Game Over! Votre score est : ' + score);
          location.reload();
        }
      }
    }

    setInterval(() => {
      createPoint();
      if (interval > 500) interval -= 50; // Les points apparaissent de plus en plus vite
    }, interval);

    setInterval(() => {
      checkCollision();
    }, 50); // VÃ©rifie les collisions toutes les 50ms
  </script>
</body>
</html>
